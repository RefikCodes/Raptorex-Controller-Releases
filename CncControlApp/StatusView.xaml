<UserControl x:Class="CncControlApp.StatusView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
 xmlns:local="clr-namespace:CncControlApp"
 mc:Ignorable="d" 
 d:DesignHeight="450" d:DesignWidth="800"
 Margin="5,10,5,10" Foreground="{x:Null}">

 <UserControl.Resources>
 <!-- Connected row: LED green text when IsActive true -->
 <Style x:Key="ConnectedRowStyle" TargetType="DataGridRow" BasedOn="{x:Null}">
 <Style.Triggers>
 <DataTrigger Binding="{Binding IsActive}" Value="True">
 <Setter Property="Foreground" Value="#FF34C759"/>
 <Setter Property="FontWeight" Value="SemiBold"/>
 </DataTrigger>
 </Style.Triggers>
 </Style>
 </UserControl.Resources>

 <Border Background="#FF626262" CornerRadius="15">
 <Grid>
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="*"/>
 </Grid.RowDefinitions>

 <!-- Connection Controls Panel (kept as collapsed placeholder) -->
 <Grid Grid.Row="0" Margin="10,10,10,5" Visibility="Collapsed" />

 <!-- Content: top two panels and bottom ports panel (no tabs) -->
 <Grid Grid.Row="1" Margin="10,0,10,10">
 <Grid.RowDefinitions>
 <RowDefinition Height="2*"/>
 <RowDefinition Height="*"/>
 </Grid.RowDefinitions>

 <!-- Top row: two panels side-by-side -->
 <Grid Grid.Row="0">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="10"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <!-- Settings Panel (dark) -->
 <Border Grid.Column="0" Background="#FF2D2D30" CornerRadius="12" BorderBrush="#FFB8B8B8" BorderThickness="1">
 <Grid Margin="10,4,10,10">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="*"/>
 </Grid.RowDefinitions>
 <TextBlock Text="Ayarlar" FontSize="16" FontWeight="SemiBold" Foreground="#FFF0F0F0" Margin="0,0,0,8"/>

 <DataGrid x:Name="SettingsGrid"
 Grid.Row="1"
 ItemsSource="{Binding Settings}"
 AutoGenerateColumns="False"
 HeadersVisibility="Column"
 CanUserAddRows="False"
 CanUserDeleteRows="False"
 IsReadOnly="True"
 GridLinesVisibility="All"
 HorizontalGridLinesBrush="#FF4A4A4A"
 VerticalGridLinesBrush="#FF4A4A4A"
 Background="#FF3A3A3A"
 RowBackground="#FF343434"
 AlternatingRowBackground="#FF2E2E2E"
 Foreground="#FFEFEFEF"
 FontFamily="Segoe UI"
 FontWeight="Normal"
 BorderBrush="#FF4A4A4A"
 BorderThickness="1">
 <DataGrid.ColumnHeaderStyle>
 <Style TargetType="DataGridColumnHeader">
 <Setter Property="Background" Value="#FF3F3F42"/>
 <Setter Property="Foreground" Value="#FFEFEFEF"/>
 <Setter Property="FontWeight" Value="SemiBold"/>
 <Setter Property="BorderBrush" Value="#FF4A4A4A"/>
 <Setter Property="BorderThickness" Value="0,0,1,1"/>
 </Style>
 </DataGrid.ColumnHeaderStyle>
 <DataGrid.Columns>
 <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
 <DataGridTextColumn Header="Değer" Binding="{Binding Value}" Width="120"/>
 <DataGridTextColumn Header="Açıklama" Binding="{Binding KnownMeaning}" Width="*"/>
 </DataGrid.Columns>
 </DataGrid>
 </Grid>
 </Border>

 <!-- Spacer -->
 <Border Grid.Column="1" Background="Transparent"/>

 <!-- Logs Panel (dark) -->
 <Border Grid.Column="2" Background="#FF2D2D30" CornerRadius="12" BorderBrush="#FFB8B8B8" BorderThickness="1">
 <Grid Margin="10,4,10,10">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="*"/>
 <RowDefinition Height="Auto"/>
 </Grid.RowDefinitions>
 <TextBlock Text="Loglar" FontSize="16" FontWeight="SemiBold" Foreground="#FFF0F0F0" Margin="0,0,0,8"/>
 <ListBox x:Name="LogListBox"
 Grid.Row="1"
 ItemsSource="{Binding LogMessages}"
 Style="{StaticResource StatusListBoxStyle}"
 FontSize="16"
 IsTextSearchEnabled="True"
 Focusable="True"
 IsHitTestVisible="True"
 SelectionMode="Extended"
 ScrollViewer.VerticalScrollBarVisibility="Auto"
 ScrollViewer.HorizontalScrollBarVisibility="Auto"
 Background="#FF3A3A3A" BorderBrush="#FF4A4A4A" Foreground="#FFEFEFEF">
 <ListBox.ItemContainerStyle>
 <Style TargetType="ListBoxItem">
 <Setter Property="Background" Value="#FF343434"/>
 <Setter Property="Foreground" Value="#FFEFEFEF"/>
 <Setter Property="FontFamily" Value="Segoe UI"/>
 <Setter Property="FontWeight" Value="Normal"/>
 <Setter Property="Padding" Value="6,4"/>
 <Setter Property="BorderBrush" Value="#FF4A4A4A"/>
 <Setter Property="BorderThickness" Value="0,0,1,1"/>
 </Style>
 </ListBox.ItemContainerStyle>
 <!-- Context Menu -->
 <ListBox.ContextMenu>
 <ContextMenu>
 <MenuItem Header="Kopyala (Ctrl+C)" 
 Click="CopySelectedLogs_Click"
 InputGestureText="Ctrl+C">
 <MenuItem.Icon>
 <TextBlock Text="📋" FontSize="12"/>
 </MenuItem.Icon>
 </MenuItem>
 <MenuItem Header="Tümünü Seç (Ctrl+A)" 
 Click="SelectAllLogs_Click"
 InputGestureText="Ctrl+A">
 <MenuItem.Icon>
 <TextBlock Text="📝" FontSize="12"/>
 </MenuItem.Icon>
 </MenuItem>
 <Separator/>
 <MenuItem Header="Logları Temizle" 
 Click="ClearLogs_Click">
 <MenuItem.Icon>
 <TextBlock Text="🗑️" FontSize="12"/>
 </MenuItem.Icon>
 </MenuItem>
 </ContextMenu>
                        </ListBox.ContextMenu>
                    </ListBox>
                </Grid>
            </Border>
        </Grid> <!-- Bottom ports panel (dark) -->
 <Border Grid.Row="1" Background="#FF2D2D30" CornerRadius="12" BorderBrush="#FFB8B8B8" BorderThickness="1" Margin="0,10,0,0">
 <Grid Margin="10">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="*"/>
 </Grid.RowDefinitions>
 <Grid Grid.Row="0">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="Auto"/>
 </Grid.ColumnDefinitions>
 <TextBlock Text="Bağlantı Noktaları" FontSize="16" FontWeight="SemiBold" Foreground="#FFF0F0F0"/>
 <Button Grid.Column="1"
 Content="{Binding ConnectButtonText}"
 Command="{Binding ConnectCommand}"
 Height="28" Width="140"
 Margin="10,0,0,0"
 HorizontalAlignment="Right"
 VerticalAlignment="Center">
 <Button.Template>
 <ControlTemplate TargetType="Button">
 <Border CornerRadius="10"
 Background="#8034C759"
 BorderBrush="#6638A349" BorderThickness="1"
 Padding="8,3">
 <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
 </Border>
 </ControlTemplate>
 </Button.Template>
 </Button>
 </Grid>

 <DataGrid Grid.Row="1"
 ItemsSource="{Binding AvailablePortInfos}"
 SelectedItem="{Binding SelectedPortInfo, Mode=TwoWay}"
 AutoGenerateColumns="False"
 HeadersVisibility="Column"
 CanUserAddRows="False"
 CanUserDeleteRows="False"
 IsReadOnly="True"
 GridLinesVisibility="All"
 HorizontalGridLinesBrush="#FF4A4A4A"
 VerticalGridLinesBrush="#FF4A4A4A"
 Background="#FF3A3A3A"
 RowBackground="#FF343434"
 AlternatingRowBackground="#FF2E2E2E"
 Foreground="#FFEFEFEF"
 FontFamily="Segoe UI"
 FontWeight="Normal"
 BorderBrush="#FF4A4A4A"
 BorderThickness="1"
 RowStyle="{StaticResource ConnectedRowStyle}">
 <DataGrid.ColumnHeaderStyle>
 <Style TargetType="DataGridColumnHeader">
 <Setter Property="Background" Value="#FF3F3F42"/>
 <Setter Property="Foreground" Value="#FFEFEFEF"/>
 <Setter Property="FontWeight" Value="SemiBold"/>
 <Setter Property="BorderBrush" Value="#FF4A4A4A"/>
 <Setter Property="BorderThickness" Value="0,0,1,1"/>
 </Style>
 </DataGrid.ColumnHeaderStyle>
 <DataGrid.Columns>
 <DataGridTextColumn Header="Port" Binding="{Binding PortName}" Width="150"/>
 <DataGridTextColumn Header="Açıklama" Binding="{Binding Description}" Width="2*"/>
 <DataGridTextColumn Header="Üretici" Binding="{Binding Manufacturer}" Width="*"/>
 </DataGrid.Columns>
 </DataGrid>
 </Grid>
 </Border>
 </Grid>
 </Grid>
 </Border>
</UserControl>