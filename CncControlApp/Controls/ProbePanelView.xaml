<UserControl x:Class="CncControlApp.Controls.ProbePanelView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 mc:Ignorable="d"
 d:DesignWidth="650" d:DesignHeight="800">

 <UserControl.Resources>
 <!-- Local converter (avoid relying on parent resources) -->
 <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

 <!-- Console-style keyboard button (dark gray like console keyboard keys) -->
 <Style x:Key="ConsoleKeyButtonStyle" TargetType="Button">
 <Setter Property="Foreground" Value="#FFEEEEEE"/>
 <Setter Property="Background" Value="#FF4A4A4C"/>
 <Setter Property="BorderBrush" Value="#FF707072"/>
 <Setter Property="BorderThickness" Value="1"/>
 <Setter Property="FontSize" Value="16"/>
 <Setter Property="FontWeight" Value="SemiBold"/>
 <Setter Property="Padding" Value="12,8"/>
 <Setter Property="Cursor" Value="Hand"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="Button">
 <Border x:Name="Root"
 Background="{TemplateBinding Background}"
 BorderBrush="{TemplateBinding BorderBrush}"
 BorderThickness="{TemplateBinding BorderThickness}"
 CornerRadius="4">
 <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
 <Setter TargetName="Root" Property="Background" Value="#FF5A5A5C"/>
 </Trigger>
 <Trigger Property="IsPressed" Value="True">
 <Setter TargetName="Root" Property="Background" Value="#FF3C3C3E"/>
 </Trigger>
 <Trigger Property="IsEnabled" Value="False">
 <Setter TargetName="Root" Property="Opacity" Value="0.6"/>
 </Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>

 <!-- Local copy of styles used in this control -->
 <Style x:Key="DarkCoordButtonStyle" TargetType="Button">
 <Setter Property="Background" Value="#FF3E3E40"/>
 <Setter Property="BorderBrush" Value="#FF2A2A2C"/>
 <Setter Property="BorderThickness" Value="1"/>
 <Setter Property="Foreground" Value="#FFDDDDDD"/>
 <Setter Property="FontWeight" Value="Bold"/>
 <Setter Property="FontSize" Value="11"/>
 <Setter Property="Padding" Value="10,6"/>
 <Setter Property="Cursor" Value="Hand"/>
 <Setter Property="HorizontalContentAlignment" Value="Center"/>
 <Setter Property="VerticalContentAlignment" Value="Center"/>
 <Setter Property="SnapsToDevicePixels" Value="True"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="Button">
 <Border x:Name="Root"
 CornerRadius="10"
 Background="{TemplateBinding Background}"
 BorderBrush="{TemplateBinding BorderBrush}"
 BorderThickness="{TemplateBinding BorderThickness}">
 <Grid>
 <ContentPresenter Margin="{TemplateBinding Padding}"
 HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
 VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
 <Border x:Name="HoverOverlay" CornerRadius="10" Background="#10FFFFFF" Visibility="Collapsed"/>
 <Border x:Name="PressedOverlay" CornerRadius="10" Background="#33000000" Visibility="Collapsed"/>
 </Grid>
 <Border.Effect>
 <DropShadowEffect ShadowDepth="2" BlurRadius="6" Opacity="0.25" Color="#000000"/>
 </Border.Effect>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
 <Setter TargetName="HoverOverlay" Property="Visibility" Value="Visible"/>
 <Setter TargetName="Root" Property="Background" Value="#FF4A4A4C"/>
 </Trigger>
 <Trigger Property="IsPressed" Value="True">
 <Setter TargetName="HoverOverlay" Property="Visibility" Value="Collapsed"/>
 <Setter TargetName="PressedOverlay" Property="Visibility" Value="Visible"/>
 <Setter TargetName="Root" Property="Background" Value="#FF2D2D2F"/>
 <Setter TargetName="Root" Property="BorderBrush" Value="#FF1E1E20"/>
 <Setter TargetName="Root" Property="RenderTransformOrigin" Value="0.5,0.5"/>
 <Setter TargetName="Root" Property="RenderTransform">
 <Setter.Value>
 <ScaleTransform ScaleX="0.97" ScaleY="0.97"/>
 </Setter.Value>
 </Setter>
 </Trigger>
 <Trigger Property="IsEnabled" Value="False">
 <Setter TargetName="Root" Property="Opacity" Value="0.55"/>
 </Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>

 <!-- Unified style for all probe action buttons (console keyboard style) -->
 <Style x:Key="UnifiedJogButtonStyle" TargetType="Button" BasedOn="{StaticResource ConsoleKeyButtonStyle}">
 <Setter Property="HorizontalAlignment" Value="Stretch"/>
 <Setter Property="VerticalAlignment" Value="Stretch"/>
 </Style>

 <Style x:Key="ProbeModeRadioStyle" TargetType="RadioButton">
 <Setter Property="Foreground" Value="White"/>
 <Setter Property="Background" Value="#FF5A8AC4"/>
 <Setter Property="BorderBrush" Value="#FF4A7AB4"/>
 <Setter Property="BorderThickness" Value="1"/>
 <Setter Property="Padding" Value="12,6"/>
 <Setter Property="FontWeight" Value="Normal"/>
 <Setter Property="FontSize" Value="13"/>
 <Setter Property="Cursor" Value="Hand"/>
 <Setter Property="HorizontalContentAlignment" Value="Center"/>
 <Setter Property="VerticalContentAlignment" Value="Center"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="RadioButton">
 <Border x:Name="Root"
 Background="{TemplateBinding Background}"
 BorderBrush="{TemplateBinding BorderBrush}"
 BorderThickness="{TemplateBinding BorderThickness}"
 CornerRadius="4"
 SnapsToDevicePixels="True">
 <ContentPresenter Margin="{TemplateBinding Padding}"
 HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
 VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
 <Setter TargetName="Root" Property="Background" Value="#FF7AAAE4"/>
 </Trigger>
 <Trigger Property="IsChecked" Value="True">
 <Setter TargetName="Root" Property="Background" Value="#FF6A9AD4"/>
 <Setter TargetName="Root" Property="BorderBrush" Value="#FF5A8AC4"/>
 <Setter Property="Foreground" Value="White"/>
 </Trigger>
 <Trigger Property="IsEnabled" Value="False">
 <Setter TargetName="Root" Property="Opacity" Value="0.6"/>
 </Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>

 <Style x:Key="CoordinateTextStyle" TargetType="TextBlock">
 <Setter Property="Foreground" Value="#FF4CAF50"/>
 <Setter Property="FontFamily" Value="Consolas, 'Courier New', monospace"/>
 <Setter Property="FontSize" Value="10"/>
 <Setter Property="FontWeight" Value="Bold"/>
 </Style>
 </UserControl.Resources>

 <Border x:Name="RootBorder"
 BorderThickness="0"
 Visibility="Visible">
 <Grid Margin="0,0,0,10">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="Auto"/>
 </Grid.RowDefinitions>

 <!-- TOP: Coordinates (Local, spacer, Machine, spacer, Buttons) -->

 <!-- Mode selector (radio-like buttons) - Pastel blue style -->
 <Border x:Name="ModeSelectorPanel"
 Background="#FF2D2D30"
 CornerRadius="6"
 Padding="12,10,12,10"
 BorderThickness="1"
 BorderBrush="#FFA2A2A4"
 Margin="0,6,0,8">
 <Grid VerticalAlignment="Center">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>
 
 <RadioButton x:Name="ProbeModeRadio" Grid.Column="0" GroupName="ProbeModes" IsChecked="True"
 Content="Probe" Margin="4,0"
 Style="{StaticResource ProbeModeRadioStyle}" Height="42"/>
 <RadioButton x:Name="CenterOuterModeRadio" Grid.Column="1" GroupName="ProbeModes"
 Content="Center Outer" Margin="4,0"
 Style="{StaticResource ProbeModeRadioStyle}" Height="42"/>
 <RadioButton x:Name="CenterInnerModeRadio" Grid.Column="2" GroupName="ProbeModes"
 Content="Center Inner" Margin="4,0"
 Style="{StaticResource ProbeModeRadioStyle}" Height="42"/>
 <RadioButton x:Name="FindCornerModeRadio" Grid.Column="3" GroupName="ProbeModes"
 Content="Haritalama" Margin="4,0"
 Style="{StaticResource ProbeModeRadioStyle}" Height="42"/>
 </Grid>
 </Border>

 <!-- Mode content container -->
 <Border Grid.Row="1"
 Background="#FF2D2D30"
 CornerRadius="10"
 Padding="12,12"
 BorderThickness="1"
 BorderBrush="#FFA2A2A4"
 Margin="0,0,0,10"
 Height="63">
 <Grid VerticalAlignment="Stretch">
 <!-- PROBE MODE: horizontal button layout -->
 <Grid x:Name="ProbeButtonsGrid" Visibility="{Binding IsChecked, ElementName=ProbeModeRadio, Converter={StaticResource BooleanToVisibilityConverter}}">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <!-- +X -->
 <Button Grid.Column="0" Content="+X"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="0,0,6,0"
 Click="PlusXProbeButton_Click"/>

 <!-- -X -->
 <Button Grid.Column="1" Content="-X"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0"
 Click="MinusXProbeButton_Click"/>

 <!-- +Y -->
 <Button Grid.Column="2" Content="+Y"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0"
 Click="PlusYProbeButton_Click"/>

 <!-- -Y -->
 <Button Grid.Column="3" Content="-Y"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0,6,0"
 Click="MinusYProbeButton_Click"/>

 <!-- -Z -->
 <Button Grid.Column="4" Content="-Z"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0,0,0"
 Click="ZProbeButton_Click"/>
 </Grid>

 <!-- CENTER FROM OUTER EDGES MODE -->
 <Grid x:Name="CenterOuterButtonsGrid" Visibility="{Binding IsChecked, ElementName=CenterOuterModeRadio, Converter={StaticResource BooleanToVisibilityConverter}}">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <Button Grid.Column="0"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="0,0,6,0"
 Content="Center X"
 Click="CenterXOuter_Click"/>

 <Button Grid.Column="1"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0"
 Content="Center Y"
 Click="CenterYOuter_Click"/>

 <Button Grid.Column="2"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0,0,0"
 Content="Center XY"
 Click="CenterXYOuter_Click"/>
 </Grid>

 <!-- CENTER FROM INNER EDGES MODE -->
 <Grid x:Name="CenterInnerButtonsGrid" Visibility="{Binding IsChecked, ElementName=CenterInnerModeRadio, Converter={StaticResource BooleanToVisibilityConverter}}">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <Button Grid.Column="0"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="0,0,6,0"
 Content="Center XY"/>

 <Button Grid.Column="1"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0"
 Content="Center X"/>

 <Button Grid.Column="2"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="6,0,0,0"
 Content="Center Y"/>
 </Grid>

 <!-- HARITALAMA (Z MAPPING) MODE - TextBox'lar ve OK butonu -->
 <Grid x:Name="FindCornerButtonsGrid" Visibility="{Binding IsChecked, ElementName=FindCornerModeRadio, Converter={StaticResource BooleanToVisibilityConverter}}">
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="60"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="60"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <!-- SatÄ±r Label -->
 <TextBlock Grid.Column="0" Text="SatÄ±r:" 
 Foreground="#FFEEEEEE" FontSize="13" FontWeight="SemiBold"
 VerticalAlignment="Center" Margin="0,0,8,0"/>
 
 <!-- SatÄ±r TextBox -->
 <TextBox x:Name="RowCountTextBox" Grid.Column="1"
 Text="3" FontSize="14" FontWeight="Bold"
 Foreground="#FF4CAF50" Background="#FF3E3E40"
 BorderBrush="#FF5A5A5C" BorderThickness="1"
 Padding="6,4" HorizontalContentAlignment="Center"
 VerticalContentAlignment="Center"
 PreviewTextInput="NumericOnly_PreviewTextInput"/>

 <!-- SÃ¼tun Label -->
 <TextBlock Grid.Column="2" Text="SÃ¼tun:" 
 Foreground="#FFEEEEEE" FontSize="13" FontWeight="SemiBold"
 VerticalAlignment="Center" Margin="12,0,8,0"/>
 
 <!-- SÃ¼tun TextBox -->
 <TextBox x:Name="ColumnCountTextBox" Grid.Column="3"
 Text="3" FontSize="14" FontWeight="Bold"
 Foreground="#FF4CAF50" Background="#FF3E3E40"
 BorderBrush="#FF5A5A5C" BorderThickness="1"
 Padding="6,4" HorizontalContentAlignment="Center"
 VerticalContentAlignment="Center"
 PreviewTextInput="NumericOnly_PreviewTextInput"/>

 <!-- OK Butonu -->
 <Button Grid.Column="4" Content="ðŸ—ºï¸ Grid Ã‡iz"
 Style="{StaticResource UnifiedJogButtonStyle}"
 Margin="12,0,0,0"
 Click="ZMappingOk_Click"/>
 </Grid>
 </Grid>
 </Border>
 </Grid>
 </Border>
</UserControl>
