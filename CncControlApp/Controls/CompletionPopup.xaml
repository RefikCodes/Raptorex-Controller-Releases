<Window x:Class="CncControlApp.Controls.CompletionPopup"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Run Complete"
        WindowStyle="None"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        Background="#FF1E1E20"
        AllowsTransparency="True"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False" 
        Topmost="True">
    <Border CornerRadius="14" Background="#FF2C2C2F" BorderBrush="#FF5A5A5C" BorderThickness="1.2" Padding="0" SnapsToDevicePixels="True">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="16" ShadowDepth="0" Opacity="0.6"/>
        </Border.Effect>
        <Grid Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="12"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#FF3D3D40" Padding="18,14" CornerRadius="14,14,0,0">
                <DockPanel>
                    <Ellipse Width="10" Height="10" Fill="#FF34C759" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TitleText"
                               Margin="10,0,0,0"
                               Text="✓ Run Complete"
                               Foreground="White"
                               FontSize="22"
                               FontWeight="SemiBold"/>
                </DockPanel>
            </Border>

            <!-- Summary message -->
            <Border Grid.Row="1" Background="#FF2C2C2F" Padding="22,10,22,0">
                <TextBlock x:Name="SummaryText"
                           Text="G-Code execution completed successfully."
                           TextWrapping="Wrap"
                           Width="540"
                           Foreground="#FFDDDDDD"
                           FontSize="15"/>
            </Border>

            <!-- Spacer -->
            <Border Grid.Row="2" Background="Transparent"/>

            <!-- Statistics -->
            <Border Grid.Row="3" Background="#FF3A3A3E" Padding="20" CornerRadius="12" Margin="22,0,22,0">
                <Grid Width="580">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Start Time -->
                    <StackPanel Grid.Row="0" Grid.Column="0">
                        <TextBlock Text="Start Time" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="StartTimeText" Text="--:--:--" Foreground="#FFEEEEEE" FontSize="16" FontWeight="SemiBold" Margin="0,4,0,0"/>
                    </StackPanel>

                    <!-- End Time -->
                    <StackPanel Grid.Row="0" Grid.Column="1">
                        <TextBlock Text="End Time" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="EndTimeText" Text="--:--:--" Foreground="#FFEEEEEE" FontSize="16" FontWeight="SemiBold" Margin="0,4,0,0"/>
                    </StackPanel>

                    <!-- Total Duration -->
                    <StackPanel Grid.Row="2" Grid.Column="0">
                        <TextBlock Text="Total Duration" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="DurationText" Text="00:00:00" Foreground="#FF34C759" FontSize="18" FontWeight="Bold" Margin="0,4,0,0"/>
                    </StackPanel>

                    <!-- Lines Executed -->
                    <StackPanel Grid.Row="2" Grid.Column="1">
                        <TextBlock Text="Lines Executed" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="LinesText" Text="0" Foreground="#FFEEEEEE" FontSize="16" FontWeight="SemiBold" Margin="0,4,0,0"/>
                    </StackPanel>

                    <!-- Separator -->
                    <Border Grid.Row="4" Grid.ColumnSpan="2" Height="1" Background="#FF555555" Margin="0,5"/>

                    <!-- File Name -->
                    <StackPanel Grid.Row="6" Grid.ColumnSpan="2">
                        <TextBlock Text="File" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="FileNameText" Text="" Foreground="#FFCCCCCC" FontSize="14" Margin="0,4,0,0" TextTrimming="CharacterEllipsis"/>
                    </StackPanel>

                    <!-- Status -->
                    <StackPanel Grid.Row="8" Grid.ColumnSpan="2">
                        <TextBlock Text="Status" Foreground="#FF999999" FontSize="13"/>
                        <TextBlock x:Name="StatusText" Text="Completed" Foreground="#FF34C759" FontSize="15" FontWeight="SemiBold" Margin="0,4,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Spacer -->
            <Border Grid.Row="4" Background="Transparent"/>

            <!-- Bottom buttons -->
            <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,22,18">
                <Button x:Name="OkButton" Content="OK" Width="120" Height="40"
                        Background="#FF90CAF9" Foreground="#FF1E1E20" BorderBrush="#FF6FB6F3" 
                        FontSize="15" FontWeight="SemiBold" Click="OkButton_Click"
                        Cursor="Hand"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
