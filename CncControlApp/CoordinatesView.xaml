<UserControl x:Class="CncControlApp.CoordinatesView"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CncControlApp"
   mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="650" 
 Margin="0" Background="Transparent" VerticalAlignment="Top">

    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

      <!-- Axis Label Style -->
      <Style x:Key="AxisLabelStyle" TargetType="Label">
     <Setter Property="FontSize" Value="35"/>
     <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
 <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
     <Setter Property="Height" Value="48"/>
     <Setter Property="Margin" Value="0,0,0,12"/>
      </Style>

   <!-- Unified dark rounded coordinate action button style -->
        <Style x:Key="DarkCoordButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF3E3E40"/>
          <Setter Property="BorderBrush" Value="#FF2A2A2C"/>
            <Setter Property="BorderThickness" Value="1"/>
       <Setter Property="Foreground" Value="#FFDDDDDD"/>
      <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="11"/>
         <Setter Property="Padding" Value="10,6"/>
         <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
          <Setter Property="SnapsToDevicePixels" Value="True"/>
       <Setter Property="Template">
                <Setter.Value>
             <ControlTemplate TargetType="Button">
        <Border x:Name="Root"
      CornerRadius="10"
     Background="{TemplateBinding Background}"
        BorderBrush="{TemplateBinding BorderBrush}"
      BorderThickness="{TemplateBinding BorderThickness}">
      <Grid>
   <ContentPresenter Margin="{TemplateBinding Padding}"
      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
         VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
            <Border x:Name="HoverOverlay"
 CornerRadius="10"
               Background="#10FFFFFF"
          Visibility="Collapsed"/>
<Border x:Name="PressedOverlay"
 CornerRadius="10"
        Background="#33000000"
  Visibility="Collapsed"/>
       </Grid>
   <Border.Effect>
      <DropShadowEffect ShadowDepth="2" BlurRadius="6" Opacity="0.25" Color="#000000"/>
            </Border.Effect>
            </Border>
         <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
        <Setter TargetName="HoverOverlay" Property="Visibility" Value="Visible"/>
       <Setter TargetName="Root" Property="Background" Value="#FF4A4A4C"/>
            </Trigger>
       <Trigger Property="IsPressed" Value="True">
<Setter TargetName="HoverOverlay" Property="Visibility" Value="Collapsed"/>
        <Setter TargetName="PressedOverlay" Property="Visibility" Value="Visible"/>
         <Setter TargetName="Root" Property="Background" Value="#FF2D2D2F"/>
     <Setter TargetName="Root" Property="BorderBrush" Value="#FF1E1E20"/>
           <Setter TargetName="Root" Property="RenderTransformOrigin" Value="0.5,0.5"/>
          <Setter TargetName="Root" Property="RenderTransform">
      <Setter.Value>
  <ScaleTransform ScaleX="0.97" ScaleY="0.97"/>
      </Setter.Value>
       </Setter>
    </Trigger>
<Trigger Property="IsEnabled" Value="False">
     <Setter TargetName="Root" Property="Opacity" Value="0.55"/>
      </Trigger>
 </ControlTemplate.Triggers>
      </ControlTemplate>
</Setter.Value>
   </Setter>
 </Style>

        <!-- Coordinate TextBox Style -->
        <Style x:Key="UnifiedCoordinateStyle" TargetType="TextBox">
      <Setter Property="VerticalAlignment" Value="Center"/>
   <Setter Property="FontSize" Value="34"/>
            <Setter Property="FontWeight" Value="Regular"/>
            <Setter Property="FontFamily" Value="Consolas, 'Courier New', monospace"/>
     <Setter Property="Padding" Value="0,0,10,0"/>
            <Setter Property="TextAlignment" Value="Right"/>
            <Setter Property="Background" Value="#FF2D3D2D"/>
    <Setter Property="Foreground" Value="#FF4CAF50"/>
            <Setter Property="BorderBrush" Value="#FF4CAF50"/>
     <Setter Property="BorderThickness" Value="1"/>
     <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled"/>
     <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
       <Style.Triggers>
           <MultiTrigger>
                <MultiTrigger.Conditions>
   <Condition Property="IsFocused" Value="True"/>
        <Condition Property="IsReadOnly" Value="False"/>
  </MultiTrigger.Conditions>
         <Setter Property="BorderBrush" Value="#FFFF6600"/>
       <Setter Property="BorderThickness" Value="2"/>
       </MultiTrigger>
        <MultiTrigger>
         <MultiTrigger.Conditions>
             <Condition Property="IsMouseOver" Value="True"/>
            <Condition Property="IsReadOnly" Value="False"/>
        </MultiTrigger.Conditions>
          <Setter Property="BorderBrush" Value="#FF70D03A"/>
      </MultiTrigger>
 <Trigger Property="IsReadOnly" Value="True">
        <Setter Property="Background" Value="#FF2D3D2D"/>
            <Setter Property="Foreground" Value="#FF4CAF50"/>
         <Setter Property="BorderBrush" Value="#FF4CAF50"/>
         <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Panel Header Style -->
 <Style x:Key="PanelHeaderStyle" TargetType="TextBlock">
   <Setter Property="FontSize" Value="18"/>
     <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
         <Setter Property="Margin" Value="0,10,0,20"/>
        </Style>

        <!-- Local Panel Style -->
        <Style x:Key="LocalPanelStyle" TargetType="Border">
         <Setter Property="Background" Value="#FF424242"/>
    <Setter Property="BorderBrush" Value="#FF4CAF50"/>
     <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="10"/>
    <Setter Property="Padding" Value="15"/>
            <Setter Property="Margin" Value="5"/>
   </Style>

        <!-- Machine Panel Style -->
        <Style x:Key="MachinePanelStyle" TargetType="Border">
  <Setter Property="Background" Value="#FF424242"/>
       <Setter Property="BorderBrush" Value="#FF2196F3"/>
            <Setter Property="BorderThickness" Value="2"/>
   <Setter Property="CornerRadius" Value="10"/>
     <Setter Property="Padding" Value="15"/>
        <Setter Property="Margin" Value="5"/>
        </Style>
  </UserControl.Resources>

    <!-- Main Container Border - MATCHES MainWindow.xaml RightBlankPanel EXACTLY -->
    <Border Background="#FF2D2D30"
      BorderBrush="#FFA2A2A4"
            BorderThickness="1"
   CornerRadius="10"
            Padding="16">
        <Grid>
            <Grid.ColumnDefinitions>
         <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="20"/>
      <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="30"/>
  <ColumnDefinition Width="160"/>
            </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
  <RowDefinition Height="Auto"/>
 <RowDefinition Height="*"/>
         <RowDefinition Height="*"/>
  <RowDefinition Height="*"/>
</Grid.RowDefinitions>

          <!-- Headers -->
      <TextBlock Grid.Row="0" Grid.Column="0" Text="LOCAL" FontSize="12" FontWeight="Bold" Foreground="#FFB0BEC5" Margin="0,0,0,6"/>
  <TextBlock Grid.Row="0" Grid.Column="2" Text="MACHINE" FontSize="12" FontWeight="Bold" Foreground="#FFB0BEC5" Margin="0,0,0,6"/>
    <TextBlock Grid.Row="0" Grid.Column="4" Text="ACTIONS" FontSize="12" FontWeight="Bold" Foreground="#FFB0BEC5" Margin="0,0,0,6"/>

            <!-- LOCAL (Work) Coordinates Display -->
          <Border Grid.Row="1" Grid.Column="0" Background="#FF2D3D2D" BorderBrush="#FF4CAF50" BorderThickness="1" CornerRadius="5" Padding="10,6" Margin="0,0,0,6">
     <Grid>
       <Grid.ColumnDefinitions>
      <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
   </Grid.ColumnDefinitions>
       <TextBlock Grid.Column="0" Text="X:" FontSize="24" Foreground="White" Margin="0,0,8,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
    <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
       <TextBlock Grid.Column="2" Text="{Binding MStatus.WorkX, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF4CAF50" HorizontalAlignment="Right" TextAlignment="Right"/>
      </Grid>
        </Border>
            <Border Grid.Row="2" Grid.Column="0" Background="#FF2D3D2D" BorderBrush="#FF4CAF50" BorderThickness="1" CornerRadius="5" Padding="10,6" Margin="0,0,0,6">
      <Grid>
      <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="Auto"/>
   <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Text="Y:" FontSize="24" Foreground="White" Margin="0,0,8,0"/>
      <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
       <TextBlock Grid.Column="2" Text="{Binding MStatus.WorkY, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF4CAF50" HorizontalAlignment="Right" TextAlignment="Right"/>
      </Grid>
    </Border>
            <Border Grid.Row="3" Grid.Column="0" Background="#FF2D3D2D" BorderBrush="#FF4CAF50" BorderThickness="1" CornerRadius="5" Padding="10,6">
      <Grid>
             <Grid.ColumnDefinitions>
         <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
        <TextBlock Grid.Column="0" Text="Z:" FontSize="24" Foreground="White" Margin="0,0,8,0"/>
         <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
           <TextBlock Grid.Column="2" Text="{Binding MStatus.WorkZ, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF4CAF50" HorizontalAlignment="Right" TextAlignment="Right"/>
    </Grid>
   </Border>

            <!-- MACHINE Coordinates Display -->
         <Border Grid.Row="1" Grid.Column="2" Background="#FF294357" BorderBrush="#FF2196F3" BorderThickness="1" CornerRadius="5" Padding="10,6" Margin="0,0,0,6">
      <Grid>
     <Grid.ColumnDefinitions>
      <ColumnDefinition Width="Auto"/>
     <ColumnDefinition Width="Auto"/>
    <ColumnDefinition Width="*"/>
       </Grid.ColumnDefinitions>
             <TextBlock Grid.Column="0" Text="X:" FontSize="24" Foreground="White" Margin="0,0,8,0"/>
  <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
     <TextBlock Grid.Column="2" Text="{Binding MStatus.X, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF42A5F5" HorizontalAlignment="Right" TextAlignment="Right"/>
        </Grid>
      </Border>
            <Border Grid.Row="2" Grid.Column="2" Background="#FF294357" BorderBrush="#FF2196F3" BorderThickness="1" CornerRadius="5" Padding="10,6" Margin="0,0,0,6">
                <Grid>
        <Grid.ColumnDefinitions>
    <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="*"/>
   </Grid.ColumnDefinitions>
          <TextBlock Grid.Column="0" Text="Y:" FontSize="24" Foreground="White" Margin="0,0,8,0"/>
        <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
               <TextBlock Grid.Column="2" Text="{Binding MStatus.Y, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF42A5F5" HorizontalAlignment="Right" TextAlignment="Right"/>
         </Grid>
      </Border>
     <Border Grid.Row="3" Grid.Column="2" Background="#FF294357" BorderBrush="#FF2196F3" BorderThickness="1" CornerRadius="5" Padding="10,6">
          <Grid>
          <Grid.ColumnDefinitions>
       <ColumnDefinition Width="Auto"/>
           <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
    <TextBlock Grid.Column="0" Text="Z:" FontSize="24" Foreground="White" Margin="0,0,8,0"/>
   <TextBlock Grid.Column="1" Text=" " FontFamily="Consolas, 'Courier New', monospace"/>
           <TextBlock Grid.Column="2" Text="{Binding MStatus.Z, StringFormat=F3}" FontSize="24" FontFamily="Consolas, 'Courier New', monospace" Foreground="#FF42A5F5" HorizontalAlignment="Right" TextAlignment="Right"/>
   </Grid>
            </Border>

            <!-- ACTIONS (Set Zero Buttons X/Y/Z only) -->
    <Button Grid.Row="1" Grid.Column="4" Style="{StaticResource DarkCoordButtonStyle}" Margin="0,0,0,6" Click="SetZeroButton_Click" Tag="X" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" FontSize="13" Foreground="#FFFDD0" BorderBrush="#FFFFFDD0">
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                <Canvas Width="24" Height="24">
                    <Ellipse Canvas.Left="2" Canvas.Top="2" Width="20" Height="20"
                             Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                             StrokeThickness="2"/>
                    <Line X1="12" Y1="0" X2="12" Y2="6" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="12" Y1="18" X2="12" Y2="24" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="0" Y1="12" X2="6" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="18" Y1="12" X2="24" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                </Canvas>
            </Viewbox>
            <TextBlock Text="Set Zero X" VerticalAlignment="Center"/>
        </StackPanel>
    </Button>

    <Button Grid.Row="2" Grid.Column="4" Style="{StaticResource DarkCoordButtonStyle}" Margin="0,0,0,6" Click="SetZeroButton_Click" Tag="Y" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" FontSize="13" Foreground="#FFFDD0" BorderBrush="#FFFFFDD0">
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                <Canvas Width="24" Height="24">
                    <Ellipse Canvas.Left="2" Canvas.Top="2" Width="20" Height="20"
                             Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                             StrokeThickness="2"/>
                    <Line X1="12" Y1="0" X2="12" Y2="6" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="12" Y1="18" X2="12" Y2="24" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="0" Y1="12" X2="6" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="18" Y1="12" X2="24" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                </Canvas>
            </Viewbox>
            <TextBlock Text="Set Zero Y" VerticalAlignment="Center"/>
        </StackPanel>
    </Button>

    <Button Grid.Row="3" Grid.Column="4" Style="{StaticResource DarkCoordButtonStyle}" Click="SetZeroButton_Click" Tag="Z" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" FontSize="13" Foreground="#FFFDD0" BorderBrush="#FFFFFDD0">
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
            <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                <Canvas Width="24" Height="24">
                    <Ellipse Canvas.Left="2" Canvas.Top="2" Width="20" Height="20"
                             Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"
                             StrokeThickness="2"/>
                    <Line X1="12" Y1="0" X2="12" Y2="6" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="12" Y1="18" X2="12" Y2="24" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="0" Y1="12" X2="6" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                    <Line X1="18" Y1="12" X2="24" Y2="12" Stroke="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}" StrokeThickness="2"/>
                </Canvas>
            </Viewbox>
            <TextBlock Text="Set Zero Z" VerticalAlignment="Center"/>
        </StackPanel>
    </Button>
        </Grid>
    </Border>
</UserControl>
